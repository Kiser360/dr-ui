(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"+acX":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("q1tI")),l=(a("yr+R"),a("cQZ0"),r(a("ks1d")));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m(e);if(t){var l=m(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return f(this,a)}}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p={title:"Multi-structured sites",description:"How to build a site with more than one product.",order:4,layout:"page",contentType:"guide",products:["Documentation"],headings:[{text:"1. Create a new docs repository",slug:"1-create-a-new-docs-repository",level:2},{text:"2. Identify your site structure",slug:"2-identify-your-site-structure",level:2},{text:"3. Create your subsite configuration",slug:"3-create-your-subsite-configuration",level:2},{text:"4. Add the configuration to the navigation Batfish selector",slug:"4-add-the-configuration-to-the-navigation-batfish-selector",level:2},{text:"5. Add pages to each subsite",slug:"5-add-pages-to-each-subsite",level:2}]},h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,e);var t,a,r,o=d(f);function f(){return s(this,f),o.apply(this,arguments)}return t=f,(a=[{key:"render",value:function(){var e=this.props;return n.default.createElement(l.default,u({},e,{frontMatter:p}),n.default.createElement("div",null,n.default.createElement("p",null,"Most docs.mapbox.com sites use a single structure, which means it documents a single product. But ",n.default.createElement("a",{href:"https://docs.mapbox.com/ios/maps/overview/"},"iOS")," and ",n.default.createElement("a",{href:"https://docs.mapbox.com/android/maps/overview/"},"Android")," use a multi-structure to document several products (for example the Maps SDK, Navigation SDK, and Plugins)."),n.default.createElement("p",null,"This guide will walk you through creating a new multi-structured site."),n.default.createElement("h2",{id:"1-create-a-new-docs-repository",className:"anchor"},n.default.createElement("a",{href:"#1-create-a-new-docs-repository",className:"unprose color-blue-on-hover"},"1. Create a new docs repository")),n.default.createElement("p",null,"Start by creating a new repository with ",n.default.createElement("a",{href:"https://github.com/mapbox/docs-starter-kit"},"docs starter kit"),"."),n.default.createElement("ol",null,n.default.createElement("li",null,'Click the "Use this template" button to create a new repository for your site.'),n.default.createElement("li",null,'Follow the steps under "Customize the repository" in the README new repository setup checklist.')),n.default.createElement("h2",{id:"2-identify-your-site-structure",className:"anchor"},n.default.createElement("a",{href:"#2-identify-your-site-structure",className:"unprose color-blue-on-hover"},"2. Identify your site structure")),n.default.createElement("p",null,"Docs starter kit includes a single-structured site. This means that the contents of ",n.default.createElement("code",null,"src/pages/")," all belong to a single product. In this step, you will identify your site's multi-structure and begin building out the files."),n.default.createElement("ol",null,n.default.createElement("li",null,"Determine the subsites. This is often a product, for example iOS has maps, navigation, and vision.",n.default.createElement("ol",null,n.default.createElement("li",null,"Determine a shortened name for each subsite which will be used as the URL for each subsite. For example: ",n.default.createElement("code",null,"/ios/maps/"),"."),n.default.createElement("li",null,"Create a folder for each subsite in ",n.default.createElement("code",null,"src/pages/")," using the shortened name. For example: ",n.default.createElement("code",null,"src/pages/maps/"),"."))),n.default.createElement("li",null,"Determine the title for each subsite.")),n.default.createElement("p",null,"Your site structure will look something like:"),n.default.createElement("pre",null,n.default.createElement("code",null,"src/","\n","  ","pages/","\n","    ","maps/","\n","    ","navigation/","\n","    ","vision/","\n")),n.default.createElement("h2",{id:"3-create-your-subsite-configuration",className:"anchor"},n.default.createElement("a",{href:"#3-create-your-subsite-configuration",className:"unprose color-blue-on-hover"},"3. Create your subsite configuration")),n.default.createElement("p",null,"Using the path names and titles you identified in the previous step, build a configuration JSON."),n.default.createElement("p",null,"Your JSON will look something like:"),n.default.createElement("pre",{className:"language-js"},n.default.createElement("code",{className:"language-js"},n.default.createElement("span",{className:"token keyword"},"const")," subsites ",n.default.createElement("span",{className:"token operator"},"=")," ",n.default.createElement("span",{className:"token punctuation"},"["),"\n","  ",n.default.createElement("span",{className:"token punctuation"},"{"),"\n","    ","path",n.default.createElement("span",{className:"token operator"},":")," ",n.default.createElement("span",{className:"token string"},"'maps'"),n.default.createElement("span",{className:"token punctuation"},","),"\n","    ","title",n.default.createElement("span",{className:"token operator"},":")," ",n.default.createElement("span",{className:"token string"},"'Maps SDK for iOS'"),"\n","  ",n.default.createElement("span",{className:"token punctuation"},"}"),n.default.createElement("span",{className:"token punctuation"},","),"\n","  ",n.default.createElement("span",{className:"token punctuation"},"{"),"\n","    ","path",n.default.createElement("span",{className:"token operator"},":")," ",n.default.createElement("span",{className:"token string"},"'navigation'"),n.default.createElement("span",{className:"token punctuation"},","),"\n","    ","title",n.default.createElement("span",{className:"token operator"},":")," ",n.default.createElement("span",{className:"token string"},"'Navigation SDK for iOS'"),"\n","  ",n.default.createElement("span",{className:"token punctuation"},"}"),n.default.createElement("span",{className:"token punctuation"},","),"\n","  ",n.default.createElement("span",{className:"token punctuation"},"{"),"\n","    ","path",n.default.createElement("span",{className:"token operator"},":")," ",n.default.createElement("span",{className:"token string"},"'vision'"),n.default.createElement("span",{className:"token punctuation"},","),"\n","    ","title",n.default.createElement("span",{className:"token operator"},":")," ",n.default.createElement("span",{className:"token string"},"'Vision SDK for iOS'"),"\n","  ",n.default.createElement("span",{className:"token punctuation"},"}"),"\n",n.default.createElement("span",{className:"token punctuation"},"]"),n.default.createElement("span",{className:"token punctuation"},";"),"\n")),n.default.createElement("p",null,"See ",n.default.createElement("a",{href:"/dr-ui/guides/batfish-helpers/#shape-of-multi-structured-sections"},"Shape of multi-structured sections")," for more options."),n.default.createElement("h2",{id:"4-add-the-configuration-to-the-navigation-batfish-selector",className:"anchor"},n.default.createElement("a",{href:"#4-add-the-configuration-to-the-navigation-batfish-selector",className:"unprose color-blue-on-hover"},"4. Add the configuration to the navigation Batfish selector")),n.default.createElement("ol",null,n.default.createElement("li",null,"In ",n.default.createElement("code",null,"batfish.config.js"),", below the required packages and above the Batfish configuration function, create a constant, add the ",n.default.createElement("code",null,"subsites")," constant you created in the previous step."),n.default.createElement("li",null,"In the Batfish configuration function, find ",n.default.createElement("code",null,"navigation")," in ",n.default.createElement("code",null,"dataSelectors"),"."),n.default.createElement("li",null,"Add a ",n.default.createElement("code",null,"sections")," argument to the ",n.default.createElement("code",null,"buildNavigation")," function to include the ",n.default.createElement("code",null,"subsites")," constant you created in the first step:")),n.default.createElement("pre",null,n.default.createElement("code",null,"navigation: data => buildNavigation(","{"," siteBasePath, data, sections: subsites ","}","),","\n")),n.default.createElement("ol",{start:4},n.default.createElement("li",null,"The site's navigation data selector can now support your multi-structured site.")),n.default.createElement("p",null,"See the ",n.default.createElement("a",{href:"/dr-ui/guides/batfish-helpers/#navigation"},"navigation Batfish data selector")," for more documentation."),n.default.createElement("h2",{id:"5-add-pages-to-each-subsite",className:"anchor"},n.default.createElement("a",{href:"#5-add-pages-to-each-subsite",className:"unprose color-blue-on-hover"},"5. Add pages to each subsite")),n.default.createElement("p",null,"Each subsite's folder now acts as a single-structure site. From the frontmatter of each page, you can define the pages that should appear in the top navigation bar with ",n.default.createElement("code",null,"navOrder")," and order each page in that section with ",n.default.createElement("code",null,"order"),". See the ",n.default.createElement("a",{href:"/dr-ui/guides/page-layout/"},n.default.createElement("code",null,"PageLayout")," component")," guide to learn about more frontmatter fields."),n.default.createElement("p",null,"Below is an example of the folder structure for a subsite:"),n.default.createElement("pre",null,n.default.createElement("code",null,"src/","\n","  ","pages/","\n","    ","maps/","\n","      ","examples/","\n","        ","index.md (navOrder: 2)","\n","        ","add-marker.md","\n","        ","clustering.md","\n","      ","help/","\n","        ","index.md (navOrder: 3)","\n","      ","overview/","\n","        ","index.md (navOrder: 1)","\n","        ","mapbox-studio.md","\n","      ","index.js","\n")),n.default.createElement("p",null,"Most subsites include:"),n.default.createElement("ul",null,n.default.createElement("li",null,"An ",n.default.createElement("code",null,"overview/")," folder that contains a collection of guides and the homepage for the subsite",n.default.createElement("ul",null,n.default.createElement("li",null,"For example: ",n.default.createElement("code",null,"src/maps/overview/index.md"),"."),n.default.createElement("li",null,"The homepage usually includes the ",n.default.createElement("a",{href:"/dr-ui/#overviewheader"},n.default.createElement("code",null,"OverviewHeader"))," component at the top of the page to define the product for that subsite."))),n.default.createElement("li",null,"The ",n.default.createElement("code",null,"index.js")," in the subsite's root folder is usually a redirect to the overview homepage:")),n.default.createElement("pre",{className:"language-js"},n.default.createElement("code",{className:"language-js"},n.default.createElement("span",{className:"token keyword module"},"import")," ",n.default.createElement("span",{className:"token punctuation"},"{")," prefixUrl ",n.default.createElement("span",{className:"token punctuation"},"}")," ",n.default.createElement("span",{className:"token keyword module"},"from")," ",n.default.createElement("span",{className:"token string"},"'@mapbox/batfish/modules/prefix-url'"),n.default.createElement("span",{className:"token punctuation"},";"),"\n",n.default.createElement("span",{className:"token keyword module"},"import")," ",n.default.createElement("span",{className:"token punctuation"},"{")," createRedirect ",n.default.createElement("span",{className:"token punctuation"},"}")," ",n.default.createElement("span",{className:"token keyword module"},"from")," ",n.default.createElement("span",{className:"token string"},"'@mapbox/dr-ui/helpers/create-redirect'"),n.default.createElement("span",{className:"token punctuation"},";"),"\n","\n",n.default.createElement("span",{className:"token keyword module"},"export")," ",n.default.createElement("span",{className:"token keyword module"},"default")," ",n.default.createElement("span",{className:"token function"},"createRedirect"),n.default.createElement("span",{className:"token punctuation"},"("),n.default.createElement("span",{className:"token function"},"prefixUrl"),n.default.createElement("span",{className:"token punctuation"},"("),n.default.createElement("span",{className:"token string"},"'/maps/overview/'"),n.default.createElement("span",{className:"token punctuation"},")"),n.default.createElement("span",{className:"token punctuation"},")"),n.default.createElement("span",{className:"token punctuation"},";"),"\n"))))}}])&&c(t.prototype,a),r&&c(t,r),f}(n.default.PureComponent);t.default=h},iMY4:function(e,t,a){var n=a("+acX");n=n.default||n,e.exports={component:n,props:{frontMatter:{title:"Multi-structured sites",description:"How to build a site with more than one product.",order:4,layout:"page",contentType:"guide",products:["Documentation"]}}}}}]);